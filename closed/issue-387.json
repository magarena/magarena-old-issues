{
  "status": "wontfix",
  "body": "What steps will reproduce the problem? 1. Add an URL to any deck's description, save the deck\r\n2. Restart the application\r\n3. Try to open this deck\r\n\r\nWhat is the expected output? - the deck loads\r\nWhat do you see instead? - game's window closes immidiately\r\n\r\nWhat version of the product are you using? 1.40\r\nOn what operating system? Win7 64bit\r\n\r\ngame.log is empty:\r\n\r\nMAGARENA GAME LOG\r\nCREATED ON 2013/08/18 11:24:24\r\nMAGARENA VERSION 1.40, JRE 1.7.0_25, OS Windows 7_6.1 x86\r\n\r\ncrash.log is as follows:\r\n\r\nCRASH REPORT FOR MAGARENA THREAD Thread[AWT-EventQueue-0,6,main]\r\nCREATED ON 2013/08/18 11:23:18\r\nMAGARENA VERSION 1.40, JRE 1.7.0_25, OS Windows 7_6.1 x86\r\n\r\nException from controller.runGame: String index out of range: -1\r\njava.lang.StringIndexOutOfBoundsException: String index out of range: -1\r\n\tat java.lang.String.substring(Unknown Source)\r\n\tat magic.data.DeckUtils.loadDeck(DeckUtils.java:132)\r\n\tat magic.ui.MagicFrame.loadDeck(MagicFrame.java:461)\r\n\tat magic.ui.MagicFrame.actionPerformed(MagicFrame.java:713)\r\n\tat javax.swing.AbstractButton.fireActionPerformed(Unknown Source)\r\n\tat javax.swing.AbstractButton$Handler.actionPerformed(Unknown Source)\r\n\tat javax.swing.DefaultButtonModel.fireActionPerformed(Unknown Source)\r\n\tat javax.swing.DefaultButtonModel.setPressed(Unknown Source)\r\n\tat javax.swing.AbstractButton.doClick(Unknown Source)\r\n\tat javax.swing.plaf.basic.BasicMenuItemUI.doClick(Unknown Source)\r\n\tat javax.swing.plaf.basic.BasicMenuItemUI$Handler.mouseReleased(Unknown Source)\r\n\tat java.awt.Component.processMouseEvent(Unknown Source)\r\n\tat javax.swing.JComponent.processMouseEvent(Unknown Source)\r\n\tat java.awt.Component.processEvent(Unknown Source)\r\n\tat java.awt.Container.processEvent(Unknown Source)\r\n\tat java.awt.Component.dispatchEventImpl(Unknown Source)\r\n\tat java.awt.Container.dispatchEventImpl(Unknown Source)\r\n\tat java.awt.Component.dispatchEvent(Unknown Source)\r\n\tat java.awt.LightweightDispatcher.retargetMouseEvent(Unknown Source)\r\n\tat java.awt.LightweightDispatcher.processMouseEvent(Unknown Source)\r\n\tat java.awt.LightweightDispatcher.dispatchEvent(Unknown Source)\r\n\tat java.awt.Container.dispatchEventImpl(Unknown Source)\r\n\tat java.awt.Window.dispatchEventImpl(Unknown Source)\r\n\tat java.awt.Component.dispatchEvent(Unknown Source)\r\n\tat java.awt.EventQueue.dispatchEventImpl(Unknown Source)\r\n\tat java.awt.EventQueue.access$200(Unknown Source)\r\n\tat java.awt.EventQueue$3.run(Unknown Source)\r\n\tat java.awt.EventQueue$3.run(Unknown Source)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.security.ProtectionDomain$1.doIntersectionPrivilege(Unknown Source)\r\n\tat java.security.ProtectionDomain$1.doIntersectionPrivilege(Unknown Source)\r\n\tat java.awt.EventQueue$4.run(Unknown Source)\r\n\tat java.awt.EventQueue$4.run(Unknown Source)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.security.ProtectionDomain$1.doIntersectionPrivilege(Unknown Source)\r\n\tat java.awt.EventQueue.dispatchEvent(Unknown Source)\r\n\tat java.awt.EventDispatchThread.pumpOneEventForFilters(Unknown Source)\r\n\tat java.awt.EventDispatchThread.pumpEventsForFilter(Unknown Source)\r\n\tat java.awt.EventDispatchThread.pumpEventsForHierarchy(Unknown Source)\r\n\tat java.awt.EventDispatchThread.pumpEvents(Unknown Source)\r\n\tat java.awt.EventDispatchThread.pumpEvents(Unknown Source)\r\n\tat java.awt.EventDispatchThread.run(Unknown Source)\r\n\r\n\"broken\" .dec file is:\r\n\r\n# 7 creatures\r\n4 Arbor Elf\r\n4 Flinthoof Boar\r\n4 Ghor-Clan Rampager\r\n4 Hellrider\r\n3 Scavenging Ooze\r\n4 Strangleroot Geist\r\n4 Thundermaw Hellkite\r\n\r\n# 1 spells\r\n3 Mizzium Mortars\r\n\r\n# 5 lands\r\n9 Forest\r\n6 Mountain\r\n1 Mutavault\r\n4 Rootbound Crag\r\n4 Stomping Ground\r\n\r\n>by Wenzel Krautmann http://www.mtgtop8.com/event?e=5433&d=231391",
  "author": "[ember.ha...@gmail.com](https://code.google.com/u/118257407105291107710/)",
  "title": "Game closes when opening a deck which contains URL in description",
  "labels": [
    "imported",
    "Priority-Medium",
    "bug",
    "wontfix"
  ],
  "comments": [
    {
      "date": "November 11, 2013 05:04:11",
      "body": "[1.44] Nothing to do with Url. It is the newline causing the problem.",
      "author": "[lodici123](https://code.google.com/u/lodici123/)"
    },
    {
      "date": "November 11, 2013 05:23:32",
      "body": "Have not fixed since it is a \"dec\" file format issue. Should probably handle more gracefully though.",
      "author": "[lodici123](https://code.google.com/u/lodici123/)"
    },
    {
      "date": "November 11, 2013 06:37:37",
      "body": "See also issue 216 .",
      "author": "[lodici123](https://code.google.com/u/lodici123/)"
    },
    {
      "date": "November 11, 2013 17:49:01",
      "body": "**Status:** WontFix  \n",
      "author": "[melvinzh...@gmail.com](https://code.google.com/u/108278210804167927868/)"
    }
  ],
  "content": "_From [ember.ha...@gmail.com](https://code.google.com/u/118257407105291107710/) on August 18, 2013 15:32:43_\n\nWhat steps will reproduce the problem? 1. Add an URL to any deck's description, save the deck\r\n2. Restart the application\r\n3. Try to open this deck\r\n\r\nWhat is the expected output? - the deck loads\r\nWhat do you see instead? - game's window closes immidiately\r\n\r\nWhat version of the product are you using? 1.40\r\nOn what operating system? Win7 64bit\r\n\r\ngame.log is empty:\r\n\r\nMAGARENA GAME LOG\r\nCREATED ON 2013/08/18 11:24:24\r\nMAGARENA VERSION 1.40, JRE 1.7.0_25, OS Windows 7_6.1 x86\r\n\r\ncrash.log is as follows:\r\n\r\nCRASH REPORT FOR MAGARENA THREAD Thread[AWT-EventQueue-0,6,main]\r\nCREATED ON 2013/08/18 11:23:18\r\nMAGARENA VERSION 1.40, JRE 1.7.0_25, OS Windows 7_6.1 x86\r\n\r\nException from controller.runGame: String index out of range: -1\r\njava.lang.StringIndexOutOfBoundsException: String index out of range: -1\r\n\tat java.lang.String.substring(Unknown Source)\r\n\tat magic.data.DeckUtils.loadDeck(DeckUtils.java:132)\r\n\tat magic.ui.MagicFrame.loadDeck(MagicFrame.java:461)\r\n\tat magic.ui.MagicFrame.actionPerformed(MagicFrame.java:713)\r\n\tat javax.swing.AbstractButton.fireActionPerformed(Unknown Source)\r\n\tat javax.swing.AbstractButton$Handler.actionPerformed(Unknown Source)\r\n\tat javax.swing.DefaultButtonModel.fireActionPerformed(Unknown Source)\r\n\tat javax.swing.DefaultButtonModel.setPressed(Unknown Source)\r\n\tat javax.swing.AbstractButton.doClick(Unknown Source)\r\n\tat javax.swing.plaf.basic.BasicMenuItemUI.doClick(Unknown Source)\r\n\tat javax.swing.plaf.basic.BasicMenuItemUI$Handler.mouseReleased(Unknown Source)\r\n\tat java.awt.Component.processMouseEvent(Unknown Source)\r\n\tat javax.swing.JComponent.processMouseEvent(Unknown Source)\r\n\tat java.awt.Component.processEvent(Unknown Source)\r\n\tat java.awt.Container.processEvent(Unknown Source)\r\n\tat java.awt.Component.dispatchEventImpl(Unknown Source)\r\n\tat java.awt.Container.dispatchEventImpl(Unknown Source)\r\n\tat java.awt.Component.dispatchEvent(Unknown Source)\r\n\tat java.awt.LightweightDispatcher.retargetMouseEvent(Unknown Source)\r\n\tat java.awt.LightweightDispatcher.processMouseEvent(Unknown Source)\r\n\tat java.awt.LightweightDispatcher.dispatchEvent(Unknown Source)\r\n\tat java.awt.Container.dispatchEventImpl(Unknown Source)\r\n\tat java.awt.Window.dispatchEventImpl(Unknown Source)\r\n\tat java.awt.Component.dispatchEvent(Unknown Source)\r\n\tat java.awt.EventQueue.dispatchEventImpl(Unknown Source)\r\n\tat java.awt.EventQueue.access$200(Unknown Source)\r\n\tat java.awt.EventQueue$3.run(Unknown Source)\r\n\tat java.awt.EventQueue$3.run(Unknown Source)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.security.ProtectionDomain$1.doIntersectionPrivilege(Unknown Source)\r\n\tat java.security.ProtectionDomain$1.doIntersectionPrivilege(Unknown Source)\r\n\tat java.awt.EventQueue$4.run(Unknown Source)\r\n\tat java.awt.EventQueue$4.run(Unknown Source)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.security.ProtectionDomain$1.doIntersectionPrivilege(Unknown Source)\r\n\tat java.awt.EventQueue.dispatchEvent(Unknown Source)\r\n\tat java.awt.EventDispatchThread.pumpOneEventForFilters(Unknown Source)\r\n\tat java.awt.EventDispatchThread.pumpEventsForFilter(Unknown Source)\r\n\tat java.awt.EventDispatchThread.pumpEventsForHierarchy(Unknown Source)\r\n\tat java.awt.EventDispatchThread.pumpEvents(Unknown Source)\r\n\tat java.awt.EventDispatchThread.pumpEvents(Unknown Source)\r\n\tat java.awt.EventDispatchThread.run(Unknown Source)\r\n\r\n\"broken\" .dec file is:\r\n\r\n# 7 creatures\r\n4 Arbor Elf\r\n4 Flinthoof Boar\r\n4 Ghor-Clan Rampager\r\n4 Hellrider\r\n3 Scavenging Ooze\r\n4 Strangleroot Geist\r\n4 Thundermaw Hellkite\r\n\r\n# 1 spells\r\n3 Mizzium Mortars\r\n\r\n# 5 lands\r\n9 Forest\r\n6 Mountain\r\n1 Mutavault\r\n4 Rootbound Crag\r\n4 Stomping Ground\r\n\r\n>by Wenzel Krautmann http://www.mtgtop8.com/event?e=5433&d=231391\n\n_Original issue: http://code.google.com/p/magarena/issues/detail?id=387_",
  "date": "2013-08-18T15:32:43",
  "state": "closed",
  "gid": 387,
  "link": "http://code.google.com/p/magarena/issues/detail?id=387",
  "owner": ""
}
