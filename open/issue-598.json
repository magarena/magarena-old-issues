{
  "status": "accepted",
  "body": "Netrunner Enigma II (which is basically a customized Ubuntu 13.10 with KDE instead of GNOME)\r\n\r\nI tried to drag'n'drop an embedded image from Firefox to magarena, got a crash in return:\r\n\r\nCRASH REPORT FOR MAGARENA THREAD Thread[AWT-EventQueue-0,6,main]\r\nCREATED ON 2014/04/30 13:27:26\r\nMAGARENA VERSION 1.50, JRE 1.7.0_51, OS Linux_3.11.0-20-generic amd64\r\n================================\r\nUsed Memory: 128M\r\nFree Memory: 183M\r\nTotal Memory: 312M\r\nMax Memory: 455M\r\n================================\r\n-Xms256M\r\n-Xmx512M\r\n\r\n\r\nException from controller.runGame: java.lang.IndexOutOfBoundsException: Index: 0, Size: 0\r\njava.lang.RuntimeException: java.lang.IndexOutOfBoundsException: Index: 0, Size: 0\r\n\tat magic.ui.MagicFrame$ImageDragDropListener.processDroppedImageFile(MagicFrame.java:555)\r\n\tat magic.ui.MagicFrame$ImageDragDropListener.drop(MagicFrame.java:511)\r\n\tat java.awt.dnd.DropTarget.drop(DropTarget.java:450)\r\n\tat sun.awt.dnd.SunDropTargetContextPeer.processDropMessage(SunDropTargetContextPeer.java:537)\r\n\tat sun.awt.X11.XDropTargetContextPeer.processDropMessage(XDropTargetContextPeer.java:184)\r\n\tat sun.awt.dnd.SunDropTargetContextPeer$EventDispatcher.dispatchDropEvent(SunDropTargetContextPeer.java:851)\r\n\tat sun.awt.dnd.SunDropTargetContextPeer$EventDispatcher.dispatchEvent(SunDropTargetContextPeer.java:775)\r\n\tat sun.awt.dnd.SunDropTargetEvent.dispatch(SunDropTargetEvent.java:48)\r\n\tat java.awt.Component.dispatchEventImpl(Component.java:4716)\r\n\tat java.awt.Container.dispatchEventImpl(Container.java:2287)\r\n\tat java.awt.Window.dispatchEventImpl(Window.java:2719)\r\n\tat java.awt.Component.dispatchEvent(Component.java:4687)\r\n\tat java.awt.EventQueue.dispatchEventImpl(EventQueue.java:735)\r\n\tat java.awt.EventQueue.access$200(EventQueue.java:103)\r\n\tat java.awt.EventQueue$3.run(EventQueue.java:694)\r\n\tat java.awt.EventQueue$3.run(EventQueue.java:692)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:76)\r\n\tat java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:87)\r\n\tat java.awt.EventQueue$4.run(EventQueue.java:708)\r\n\tat java.awt.EventQueue$4.run(EventQueue.java:706)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:76)\r\n\tat java.awt.EventQueue.dispatchEvent(EventQueue.java:705)\r\n\tat java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:242)\r\n\tat java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:161)\r\n\tat java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:150)\r\n\tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:146)\r\n\tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:138)\r\n\tat java.awt.EventDispatchThread.run(EventDispatchThread.java:91)\r\nCaused by: java.lang.IndexOutOfBoundsException: Index: 0, Size: 0\r\n\tat java.util.ArrayList.rangeCheck(ArrayList.java:635)\r\n\tat java.util.ArrayList.get(ArrayList.java:411)\r\n\tat magic.ui.MagicFrame$ImageDragDropListener.processDroppedImageFile(MagicFrame.java:540)\r\n\t... 29 more\r\n\r\nthen I told firefox to display the image without the website, tried to drag'n'drop it again into magarena:\r\nCRASH REPORT FOR MAGARENA THREAD Thread[AWT-EventQueue-0,6,main]\r\nCREATED ON 2014/04/30 13:29:45\r\nMAGARENA VERSION 1.50, JRE 1.7.0_51, OS Linux_3.11.0-20-generic amd64\r\n================================\r\nUsed Memory: 114M\r\nFree Memory: 189M\r\nTotal Memory: 304M\r\nMax Memory: 455M\r\n================================\r\n-Xms256M\r\n-Xmx512M\r\n\r\n\r\nException from controller.runGame: java.lang.IndexOutOfBoundsException: Index: 0, Size: 0\r\njava.lang.RuntimeException: java.lang.IndexOutOfBoundsException: Index: 0, Size: 0\r\n\tat magic.ui.MagicFrame$ImageDragDropListener.processDroppedImageFile(MagicFrame.java:555)\r\n\tat magic.ui.MagicFrame$ImageDragDropListener.drop(MagicFrame.java:511)\r\n\tat java.awt.dnd.DropTarget.drop(DropTarget.java:450)\r\n\tat sun.awt.dnd.SunDropTargetContextPeer.processDropMessage(SunDropTargetContextPeer.java:537)\r\n\tat sun.awt.X11.XDropTargetContextPeer.processDropMessage(XDropTargetContextPeer.java:184)\r\n\tat sun.awt.dnd.SunDropTargetContextPeer$EventDispatcher.dispatchDropEvent(SunDropTargetContextPeer.java:851)\r\n\tat sun.awt.dnd.SunDropTargetContextPeer$EventDispatcher.dispatchEvent(SunDropTargetContextPeer.java:775)\r\n\tat sun.awt.dnd.SunDropTargetEvent.dispatch(SunDropTargetEvent.java:48)\r\n\tat java.awt.Component.dispatchEventImpl(Component.java:4716)\r\n\tat java.awt.Container.dispatchEventImpl(Container.java:2287)\r\n\tat java.awt.Window.dispatchEventImpl(Window.java:2719)\r\n\tat java.awt.Component.dispatchEvent(Component.java:4687)\r\n\tat java.awt.EventQueue.dispatchEventImpl(EventQueue.java:735)\r\n\tat java.awt.EventQueue.access$200(EventQueue.java:103)\r\n\tat java.awt.EventQueue$3.run(EventQueue.java:694)\r\n\tat java.awt.EventQueue$3.run(EventQueue.java:692)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:76)\r\n\tat java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:87)\r\n\tat java.awt.EventQueue$4.run(EventQueue.java:708)\r\n\tat java.awt.EventQueue$4.run(EventQueue.java:706)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:76)\r\n\tat java.awt.EventQueue.dispatchEvent(EventQueue.java:705)\r\n\tat java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:242)\r\n\tat java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:161)\r\n\tat java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:150)\r\n\tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:146)\r\n\tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:138)\r\n\tat java.awt.EventDispatchThread.run(EventDispatchThread.java:91)\r\nCaused by: java.lang.IndexOutOfBoundsException: Index: 0, Size: 0\r\n\tat java.util.ArrayList.rangeCheck(ArrayList.java:635)\r\n\tat java.util.ArrayList.get(ArrayList.java:411)\r\n\tat magic.ui.MagicFrame$ImageDragDropListener.processDroppedImageFile(MagicFrame.java:540)\r\n\t... 29 more\r\n\r\nthen I downloaded it to my PC and from there I drag'n'dropped it to magarena, which finally worked.\r\n\r\nThe image specs were greater than my screen resolution, but then when I tried it with the right specs, it crashed again.",
  "author": "[Landhotel.Westerwald](https://code.google.com/u/Landhotel.Westerwald/)",
  "title": "Linux, drag'n'drop image to magarena",
  "labels": [
    "imported",
    "Component-UI",
    "Priority-Medium",
    "bug"
  ],
  "comments": [
    {
      "date": "April 30, 2014 10:41:26",
      "body": "Thanks - I will look into it. Just to confirm, it falls over when dragging directly from Firefox but does work if dragging a local file?\r\n\r\nIf the resolution of the image is different to your full screen resolution then the image will be sized to fit so may look slightly strange but I would not think it affects the drag & drop.\r\n\r\nGenerally I find the ability to drag directly from Firefox more a convenience than anything - if I like the image I tend to download it anyway for safe keeping, especially if I have cropped/stretched the original. FYI, when an image is dropped it creates a file, \"background.image\", in the \"/mods\" folder. I have changed the file extension but it is actually a \"PNG\" so you can always backup by copying this somewhere else as well.\n\n**Status:** Accepted  \n  **Labels:** Component-UI  \n",
      "author": "[lodici123](https://code.google.com/u/lodici123/)"
    },
    {
      "date": "April 30, 2014 11:14:41",
      "body": "you got it right. firefox dragging crashes, local file works just fine",
      "author": "[Landhotel.Westerwald](https://code.google.com/u/Landhotel.Westerwald/)"
    },
    {
      "date": "May 29, 2014 09:24:52",
      "body": "I have added a workaround that will prevent Magarena crashing out if drag & drop fails from the browser. Otherwise I will continue to keep an eye open for a solution.",
      "author": "[lodici123](https://code.google.com/u/lodici123/)"
    },
    {
      "date": "August 11, 2014 03:40:31",
      "body": "**Owner:** lodici123  \n",
      "author": "[lodici123](https://code.google.com/u/lodici123/)"
    }
  ],
  "content": "_From [Landhotel.Westerwald](https://code.google.com/u/Landhotel.Westerwald/) on April 30, 2014 19:42:26_\n\nNetrunner Enigma II (which is basically a customized Ubuntu 13.10 with KDE instead of GNOME)\r\n\r\nI tried to drag'n'drop an embedded image from Firefox to magarena, got a crash in return:\r\n\r\nCRASH REPORT FOR MAGARENA THREAD Thread[AWT-EventQueue-0,6,main]\r\nCREATED ON 2014/04/30 13:27:26\r\nMAGARENA VERSION 1.50, JRE 1.7.0_51, OS Linux_3.11.0-20-generic amd64\r\n================================\r\nUsed Memory: 128M\r\nFree Memory: 183M\r\nTotal Memory: 312M\r\nMax Memory: 455M\r\n================================\r\n-Xms256M\r\n-Xmx512M\r\n\r\n\r\nException from controller.runGame: java.lang.IndexOutOfBoundsException: Index: 0, Size: 0\r\njava.lang.RuntimeException: java.lang.IndexOutOfBoundsException: Index: 0, Size: 0\r\n\tat magic.ui.MagicFrame$ImageDragDropListener.processDroppedImageFile(MagicFrame.java:555)\r\n\tat magic.ui.MagicFrame$ImageDragDropListener.drop(MagicFrame.java:511)\r\n\tat java.awt.dnd.DropTarget.drop(DropTarget.java:450)\r\n\tat sun.awt.dnd.SunDropTargetContextPeer.processDropMessage(SunDropTargetContextPeer.java:537)\r\n\tat sun.awt.X11.XDropTargetContextPeer.processDropMessage(XDropTargetContextPeer.java:184)\r\n\tat sun.awt.dnd.SunDropTargetContextPeer$EventDispatcher.dispatchDropEvent(SunDropTargetContextPeer.java:851)\r\n\tat sun.awt.dnd.SunDropTargetContextPeer$EventDispatcher.dispatchEvent(SunDropTargetContextPeer.java:775)\r\n\tat sun.awt.dnd.SunDropTargetEvent.dispatch(SunDropTargetEvent.java:48)\r\n\tat java.awt.Component.dispatchEventImpl(Component.java:4716)\r\n\tat java.awt.Container.dispatchEventImpl(Container.java:2287)\r\n\tat java.awt.Window.dispatchEventImpl(Window.java:2719)\r\n\tat java.awt.Component.dispatchEvent(Component.java:4687)\r\n\tat java.awt.EventQueue.dispatchEventImpl(EventQueue.java:735)\r\n\tat java.awt.EventQueue.access$200(EventQueue.java:103)\r\n\tat java.awt.EventQueue$3.run(EventQueue.java:694)\r\n\tat java.awt.EventQueue$3.run(EventQueue.java:692)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:76)\r\n\tat java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:87)\r\n\tat java.awt.EventQueue$4.run(EventQueue.java:708)\r\n\tat java.awt.EventQueue$4.run(EventQueue.java:706)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:76)\r\n\tat java.awt.EventQueue.dispatchEvent(EventQueue.java:705)\r\n\tat java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:242)\r\n\tat java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:161)\r\n\tat java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:150)\r\n\tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:146)\r\n\tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:138)\r\n\tat java.awt.EventDispatchThread.run(EventDispatchThread.java:91)\r\nCaused by: java.lang.IndexOutOfBoundsException: Index: 0, Size: 0\r\n\tat java.util.ArrayList.rangeCheck(ArrayList.java:635)\r\n\tat java.util.ArrayList.get(ArrayList.java:411)\r\n\tat magic.ui.MagicFrame$ImageDragDropListener.processDroppedImageFile(MagicFrame.java:540)\r\n\t... 29 more\r\n\r\nthen I told firefox to display the image without the website, tried to drag'n'drop it again into magarena:\r\nCRASH REPORT FOR MAGARENA THREAD Thread[AWT-EventQueue-0,6,main]\r\nCREATED ON 2014/04/30 13:29:45\r\nMAGARENA VERSION 1.50, JRE 1.7.0_51, OS Linux_3.11.0-20-generic amd64\r\n================================\r\nUsed Memory: 114M\r\nFree Memory: 189M\r\nTotal Memory: 304M\r\nMax Memory: 455M\r\n================================\r\n-Xms256M\r\n-Xmx512M\r\n\r\n\r\nException from controller.runGame: java.lang.IndexOutOfBoundsException: Index: 0, Size: 0\r\njava.lang.RuntimeException: java.lang.IndexOutOfBoundsException: Index: 0, Size: 0\r\n\tat magic.ui.MagicFrame$ImageDragDropListener.processDroppedImageFile(MagicFrame.java:555)\r\n\tat magic.ui.MagicFrame$ImageDragDropListener.drop(MagicFrame.java:511)\r\n\tat java.awt.dnd.DropTarget.drop(DropTarget.java:450)\r\n\tat sun.awt.dnd.SunDropTargetContextPeer.processDropMessage(SunDropTargetContextPeer.java:537)\r\n\tat sun.awt.X11.XDropTargetContextPeer.processDropMessage(XDropTargetContextPeer.java:184)\r\n\tat sun.awt.dnd.SunDropTargetContextPeer$EventDispatcher.dispatchDropEvent(SunDropTargetContextPeer.java:851)\r\n\tat sun.awt.dnd.SunDropTargetContextPeer$EventDispatcher.dispatchEvent(SunDropTargetContextPeer.java:775)\r\n\tat sun.awt.dnd.SunDropTargetEvent.dispatch(SunDropTargetEvent.java:48)\r\n\tat java.awt.Component.dispatchEventImpl(Component.java:4716)\r\n\tat java.awt.Container.dispatchEventImpl(Container.java:2287)\r\n\tat java.awt.Window.dispatchEventImpl(Window.java:2719)\r\n\tat java.awt.Component.dispatchEvent(Component.java:4687)\r\n\tat java.awt.EventQueue.dispatchEventImpl(EventQueue.java:735)\r\n\tat java.awt.EventQueue.access$200(EventQueue.java:103)\r\n\tat java.awt.EventQueue$3.run(EventQueue.java:694)\r\n\tat java.awt.EventQueue$3.run(EventQueue.java:692)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:76)\r\n\tat java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:87)\r\n\tat java.awt.EventQueue$4.run(EventQueue.java:708)\r\n\tat java.awt.EventQueue$4.run(EventQueue.java:706)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:76)\r\n\tat java.awt.EventQueue.dispatchEvent(EventQueue.java:705)\r\n\tat java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:242)\r\n\tat java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:161)\r\n\tat java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:150)\r\n\tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:146)\r\n\tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:138)\r\n\tat java.awt.EventDispatchThread.run(EventDispatchThread.java:91)\r\nCaused by: java.lang.IndexOutOfBoundsException: Index: 0, Size: 0\r\n\tat java.util.ArrayList.rangeCheck(ArrayList.java:635)\r\n\tat java.util.ArrayList.get(ArrayList.java:411)\r\n\tat magic.ui.MagicFrame$ImageDragDropListener.processDroppedImageFile(MagicFrame.java:540)\r\n\t... 29 more\r\n\r\nthen I downloaded it to my PC and from there I drag'n'dropped it to magarena, which finally worked.\r\n\r\nThe image specs were greater than my screen resolution, but then when I tried it with the right specs, it crashed again.\n\n_Original issue: http://code.google.com/p/magarena/issues/detail?id=598_",
  "date": "2014-04-30T19:42:26",
  "state": "open",
  "gid": 598,
  "link": "http://code.google.com/p/magarena/issues/detail?id=598",
  "owner": "lodici123"
}
