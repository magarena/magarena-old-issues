{
  "status": "fixed",
  "body": "What steps will reproduce the problem? 1. Install Java 7.65\r\n2. Run Magarena What is the expected output? What do you see instead? The application crashes right at the start. Log shown at the bottom. What version of the product are you using? On what operating system? Magarena 1.51 on Windows 7\r\n\r\nThis started happening after upgrading to Java 7.65. That's the only thing I can think of that changed. 1.51 worked fine before that.\r\n\r\nFrom crash.log\r\n\r\nCRASH REPORT FOR MAGARENA THREAD Thread[main,5,main]\r\nCREATED ON 2014/07/19 00:22:35\r\nMAGARENA VERSION 1.51, JRE 1.7.0_65, OS Windows 7_6.1 x86\r\n================================\r\nUsed Memory: 9M\r\nFree Memory: 238M\r\nTotal Memory: 247M\r\nMax Memory: 494M\r\n================================\r\n-Xms256m\r\n-Xmx512m\r\n\r\n\r\nException from controller.runGame: Bad <init> method call from inside of a branch\r\nException Details:\r\n  Location:\r\n    org/codehaus/groovy/control/customizers/ASTTransformationCustomizer.<init>(Ljava/lang/Class;Ljava/lang/String;)V @159: invokespecial\r\n  Reason:\r\n    Error exists in the bytecode\r\n  Bytecode:\r\n    0000000: 06bd 006a 5903 2b53 5904 2c53 5905 2bba\r\n    0000010: 006f 0000 5359 10ff 1202 b800 752a 5fab\r\n    0000020: 0000 0182 0000 000a b951 be33 0000 0059\r\n    0000030: bd3c 11f8 0000 0086 e4d2 7468 0000 00aa\r\n    0000040: f226 4f65 0000 00bc 1cb4 ddcd 0000 00ce\r\n    0000050: 224d 0e57 0000 00e9 4441 e4ca 0000 010d\r\n    0000060: 4c34 1502 0000 0128 589a 5432 0000 0143\r\n    0000070: 6648 e9fd 0000 015e 5f5a 5903 32ba 007e\r\n    0000080: 0000 5f59 0432 ba00 4100 005f 5905 32ba\r\n    0000090: 0081 0000 5f59 0632 ba00 8400 005f 57b7\r\n    00000a0: 0087 a701 095f 5a59 0332 ba00 4100 005f\r\n    00000b0: 5904 32ba 0081 0000 5f59 0532 ba00 8400\r\n    00000c0: 005f 57b7 0089 a700 e55f 5a59 0332 ba00\r\n    00000d0: 4100 005f 57b7 008c a700 d35f 5a59 0332\r\n    00000e0: ba00 4900 005f 57b7 008f a700 c15f 5a59\r\n    00000f0: 0332 ba00 7e00 005f 5904 32ba 0041 0000\r\n    0000100: 5f57 b700 92a7 00a6 5f5a 5903 32ba 007e\r\n    0000110: 0000 5f59 0432 ba00 4100 005f 5905 32ba\r\n    0000120: 0081 0000 5f57 b700 95a7 0082 5f5a 5903\r\n    0000130: 32ba 007e 0000 5f59 0432 ba00 4900 005f\r\n    0000140: 57b7 0098 a700 675f 5a59 0332 ba00 4100\r\n    0000150: 005f 5904 32ba 0084 0000 5f57 b700 9ba7\r\n    0000160: 004c 5f5a 5903 32ba 0041 0000 5f59 0432\r\n    0000170: ba00 8100 005f 57b7 009d a700 315f 5a59\r\n    0000180: 0332 ba00 7e00 005f 5904 32ba 0041 0000\r\n    0000190: 5f59 0532 ba00 8400 005f 57b7 00a0 a700\r\n    00001a0: 0dbb 00a2 5912 a4b7 00a7 bf57 b1       \r\n  Stackmap Table:\r\n    full_frame(@120,{UninitializedThis,Object[#119],Object[#121]},{Object[#123],UninitializedThis})\r\n    full_frame(@165,{UninitializedThis,Object[#119],Object[#121]},{Object[#123],UninitializedThis})\r\n    full_frame(@201,{UninitializedThis,Object[#119],Object[#121]},{Object[#123],UninitializedThis})\r\n    full_frame(@219,{UninitializedThis,Object[#119],Object[#121]},{Object[#123],UninitializedThis})\r\n    full_frame(@237,{UninitializedThis,Object[#119],Object[#121]},{Object[#123],UninitializedThis})\r\n    full_frame(@264,{UninitializedThis,Object[#119],Object[#121]},{Object[#123],UninitializedThis})\r\n    full_frame(@300,{UninitializedThis,Object[#119],Object[#121]},{Object[#123],UninitializedThis})\r\n    full_frame(@327,{UninitializedThis,Object[#119],Object[#121]},{Object[#123],UninitializedThis})\r\n    full_frame(@354,{UninitializedThis,Object[#119],Object[#121]},{Object[#123],UninitializedThis})\r\n    full_frame(@381,{UninitializedThis,Object[#119],Object[#121]},{Object[#123],UninitializedThis})\r\n    full_frame(@417,{UninitializedThis,Object[#119],Object[#121]},{Object[#123],UninitializedThis})\r\n    full_frame(@427,{Object[#2],Object[#119],Object[#121]},{Object[#123]})\r\n\r\njava.lang.VerifyError: Bad <init> method call from inside of a branch\r\nException Details:\r\n  Location:\r\n    org/codehaus/groovy/control/customizers/ASTTransformationCustomizer.<init>(Ljava/lang/Class;Ljava/lang/String;)V @159: invokespecial\r\n  Reason:\r\n    Error exists in the bytecode\r\n  Bytecode:\r\n    0000000: 06bd 006a 5903 2b53 5904 2c53 5905 2bba\r\n    0000010: 006f 0000 5359 10ff 1202 b800 752a 5fab\r\n    0000020: 0000 0182 0000 000a b951 be33 0000 0059\r\n    0000030: bd3c 11f8 0000 0086 e4d2 7468 0000 00aa\r\n    0000040: f226 4f65 0000 00bc 1cb4 ddcd 0000 00ce\r\n    0000050: 224d 0e57 0000 00e9 4441 e4ca 0000 010d\r\n    0000060: 4c34 1502 0000 0128 589a 5432 0000 0143\r\n    0000070: 6648 e9fd 0000 015e 5f5a 5903 32ba 007e\r\n    0000080: 0000 5f59 0432 ba00 4100 005f 5905 32ba\r\n    0000090: 0081 0000 5f59 0632 ba00 8400 005f 57b7\r\n    00000a0: 0087 a701 095f 5a59 0332 ba00 4100 005f\r\n    00000b0: 5904 32ba 0081 0000 5f59 0532 ba00 8400\r\n    00000c0: 005f 57b7 0089 a700 e55f 5a59 0332 ba00\r\n    00000d0: 4100 005f 57b7 008c a700 d35f 5a59 0332\r\n    00000e0: ba00 4900 005f 57b7 008f a700 c15f 5a59\r\n    00000f0: 0332 ba00 7e00 005f 5904 32ba 0041 0000\r\n    0000100: 5f57 b700 92a7 00a6 5f5a 5903 32ba 007e\r\n    0000110: 0000 5f59 0432 ba00 4100 005f 5905 32ba\r\n    0000120: 0081 0000 5f57 b700 95a7 0082 5f5a 5903\r\n    0000130: 32ba 007e 0000 5f59 0432 ba00 4900 005f\r\n    0000140: 57b7 0098 a700 675f 5a59 0332 ba00 4100\r\n    0000150: 005f 5904 32ba 0084 0000 5f57 b700 9ba7\r\n    0000160: 004c 5f5a 5903 32ba 0041 0000 5f59 0432\r\n    0000170: ba00 8100 005f 57b7 009d a700 315f 5a59\r\n    0000180: 0332 ba00 7e00 005f 5904 32ba 0041 0000\r\n    0000190: 5f59 0532 ba00 8400 005f 57b7 00a0 a700\r\n    00001a0: 0dbb 00a2 5912 a4b7 00a7 bf57 b1       \r\n  Stackmap Table:\r\n    full_frame(@120,{UninitializedThis,Object[#119],Object[#121]},{Object[#123],UninitializedThis})\r\n    full_frame(@165,{UninitializedThis,Object[#119],Object[#121]},{Object[#123],UninitializedThis})\r\n    full_frame(@201,{UninitializedThis,Object[#119],Object[#121]},{Object[#123],UninitializedThis})\r\n    full_frame(@219,{UninitializedThis,Object[#119],Object[#121]},{Object[#123],UninitializedThis})\r\n    full_frame(@237,{UninitializedThis,Object[#119],Object[#121]},{Object[#123],UninitializedThis})\r\n    full_frame(@264,{UninitializedThis,Object[#119],Object[#121]},{Object[#123],UninitializedThis})\r\n    full_frame(@300,{UninitializedThis,Object[#119],Object[#121]},{Object[#123],UninitializedThis})\r\n    full_frame(@327,{UninitializedThis,Object[#119],Object[#121]},{Object[#123],UninitializedThis})\r\n    full_frame(@354,{UninitializedThis,Object[#119],Object[#121]},{Object[#123],UninitializedThis})\r\n    full_frame(@381,{UninitializedThis,Object[#119],Object[#121]},{Object[#123],UninitializedThis})\r\n    full_frame(@417,{UninitializedThis,Object[#119],Object[#121]},{Object[#123],UninitializedThis})\r\n    full_frame(@427,{Object[#2],Object[#119],Object[#121]},{Object[#123]})\r\n\r\n\tat magic.data.CardDefinitions.<clinit>(CardDefinitions.java:52)\r\n\tat magic.MagicMain.initializeEngine(MagicMain.java:188)\r\n\tat magic.MagicMain.initialize(MagicMain.java:213)\r\n\tat magic.MagicMain.main(MagicMain.java:96)",
  "author": "[i...@tandetnik.org](https://code.google.com/u/104640281288211329710/)",
  "title": "Application crashes after updating to Java 7.65",
  "labels": [
    "imported",
    "Priority-Medium",
    "bug"
  ],
  "comments": [
    {
      "date": "July 18, 2014 21:39:22",
      "body": "According to http://zeroturnaround.com/forums/topic/verifyerror-bad-method-call-from-inside-of-a-branch/ this is a JVM \"bug\" \r\n\r\nOne of the comments in the above thread suggest the following workaround: \"You can use JVM argument -noverify as a workaround though.\"",
      "author": "[melvinzh...@gmail.com](https://code.google.com/u/108278210804167927868/)"
    },
    {
      "date": "July 19, 2014 00:30:32",
      "body": "Ouch! Here is a groovy-related link that might be worth keeping an eye on - https://jira.codehaus.org/browse/GROOVY-6951 .",
      "author": "[lodici123](https://code.google.com/u/lodici123/)"
    },
    {
      "date": "July 19, 2014 06:21:33",
      "body": "I created a shortcut with this command line:\r\n\r\n\"C:\\Program Files (x86)\\Java\\jre7\\bin\\javaw.exe\" -Xms256M -Xmx256M -noverify -jar Magarena.exe\r\n\r\n(inspired by Magarena.sh, with -noverify option thrown in). This seems to work around the problem.",
      "author": "[i...@tandetnik.org](https://code.google.com/u/104640281288211329710/)"
    },
    {
      "date": "July 21, 2014 20:23:22",
      "body": "Thanks for the update! Good to know that the suggested workaround works, we will look into adding it into the exe/sh directly. Was the 7.65 update automatically pushed to your machine?",
      "author": "[melvinzh...@gmail.com](https://code.google.com/u/108278210804167927868/)"
    },
    {
      "date": "July 21, 2014 21:24:46",
      "body": "Not completely automatically, but it did prompt to upgrade, and I (perhaps foolishly) accepted.",
      "author": "[i...@tandetnik.org](https://code.google.com/u/104640281288211329710/)"
    },
    {
      "date": "September 27, 2014 22:26:49",
      "body": "**Status:** Fixed  \n",
      "author": "[melvinzh...@gmail.com](https://code.google.com/u/108278210804167927868/)"
    }
  ],
  "content": "_From [i...@tandetnik.org](https://code.google.com/u/104640281288211329710/) on July 19, 2014 12:26:55_\n\nWhat steps will reproduce the problem? 1. Install Java 7.65\r\n2. Run Magarena What is the expected output? What do you see instead? The application crashes right at the start. Log shown at the bottom. What version of the product are you using? On what operating system? Magarena 1.51 on Windows 7\r\n\r\nThis started happening after upgrading to Java 7.65. That's the only thing I can think of that changed. 1.51 worked fine before that.\r\n\r\nFrom crash.log\r\n\r\nCRASH REPORT FOR MAGARENA THREAD Thread[main,5,main]\r\nCREATED ON 2014/07/19 00:22:35\r\nMAGARENA VERSION 1.51, JRE 1.7.0_65, OS Windows 7_6.1 x86\r\n================================\r\nUsed Memory: 9M\r\nFree Memory: 238M\r\nTotal Memory: 247M\r\nMax Memory: 494M\r\n================================\r\n-Xms256m\r\n-Xmx512m\r\n\r\n\r\nException from controller.runGame: Bad <init> method call from inside of a branch\r\nException Details:\r\n  Location:\r\n    org/codehaus/groovy/control/customizers/ASTTransformationCustomizer.<init>(Ljava/lang/Class;Ljava/lang/String;)V @159: invokespecial\r\n  Reason:\r\n    Error exists in the bytecode\r\n  Bytecode:\r\n    0000000: 06bd 006a 5903 2b53 5904 2c53 5905 2bba\r\n    0000010: 006f 0000 5359 10ff 1202 b800 752a 5fab\r\n    0000020: 0000 0182 0000 000a b951 be33 0000 0059\r\n    0000030: bd3c 11f8 0000 0086 e4d2 7468 0000 00aa\r\n    0000040: f226 4f65 0000 00bc 1cb4 ddcd 0000 00ce\r\n    0000050: 224d 0e57 0000 00e9 4441 e4ca 0000 010d\r\n    0000060: 4c34 1502 0000 0128 589a 5432 0000 0143\r\n    0000070: 6648 e9fd 0000 015e 5f5a 5903 32ba 007e\r\n    0000080: 0000 5f59 0432 ba00 4100 005f 5905 32ba\r\n    0000090: 0081 0000 5f59 0632 ba00 8400 005f 57b7\r\n    00000a0: 0087 a701 095f 5a59 0332 ba00 4100 005f\r\n    00000b0: 5904 32ba 0081 0000 5f59 0532 ba00 8400\r\n    00000c0: 005f 57b7 0089 a700 e55f 5a59 0332 ba00\r\n    00000d0: 4100 005f 57b7 008c a700 d35f 5a59 0332\r\n    00000e0: ba00 4900 005f 57b7 008f a700 c15f 5a59\r\n    00000f0: 0332 ba00 7e00 005f 5904 32ba 0041 0000\r\n    0000100: 5f57 b700 92a7 00a6 5f5a 5903 32ba 007e\r\n    0000110: 0000 5f59 0432 ba00 4100 005f 5905 32ba\r\n    0000120: 0081 0000 5f57 b700 95a7 0082 5f5a 5903\r\n    0000130: 32ba 007e 0000 5f59 0432 ba00 4900 005f\r\n    0000140: 57b7 0098 a700 675f 5a59 0332 ba00 4100\r\n    0000150: 005f 5904 32ba 0084 0000 5f57 b700 9ba7\r\n    0000160: 004c 5f5a 5903 32ba 0041 0000 5f59 0432\r\n    0000170: ba00 8100 005f 57b7 009d a700 315f 5a59\r\n    0000180: 0332 ba00 7e00 005f 5904 32ba 0041 0000\r\n    0000190: 5f59 0532 ba00 8400 005f 57b7 00a0 a700\r\n    00001a0: 0dbb 00a2 5912 a4b7 00a7 bf57 b1       \r\n  Stackmap Table:\r\n    full_frame(@120,{UninitializedThis,Object[#119],Object[#121]},{Object[#123],UninitializedThis})\r\n    full_frame(@165,{UninitializedThis,Object[#119],Object[#121]},{Object[#123],UninitializedThis})\r\n    full_frame(@201,{UninitializedThis,Object[#119],Object[#121]},{Object[#123],UninitializedThis})\r\n    full_frame(@219,{UninitializedThis,Object[#119],Object[#121]},{Object[#123],UninitializedThis})\r\n    full_frame(@237,{UninitializedThis,Object[#119],Object[#121]},{Object[#123],UninitializedThis})\r\n    full_frame(@264,{UninitializedThis,Object[#119],Object[#121]},{Object[#123],UninitializedThis})\r\n    full_frame(@300,{UninitializedThis,Object[#119],Object[#121]},{Object[#123],UninitializedThis})\r\n    full_frame(@327,{UninitializedThis,Object[#119],Object[#121]},{Object[#123],UninitializedThis})\r\n    full_frame(@354,{UninitializedThis,Object[#119],Object[#121]},{Object[#123],UninitializedThis})\r\n    full_frame(@381,{UninitializedThis,Object[#119],Object[#121]},{Object[#123],UninitializedThis})\r\n    full_frame(@417,{UninitializedThis,Object[#119],Object[#121]},{Object[#123],UninitializedThis})\r\n    full_frame(@427,{Object[#2],Object[#119],Object[#121]},{Object[#123]})\r\n\r\njava.lang.VerifyError: Bad <init> method call from inside of a branch\r\nException Details:\r\n  Location:\r\n    org/codehaus/groovy/control/customizers/ASTTransformationCustomizer.<init>(Ljava/lang/Class;Ljava/lang/String;)V @159: invokespecial\r\n  Reason:\r\n    Error exists in the bytecode\r\n  Bytecode:\r\n    0000000: 06bd 006a 5903 2b53 5904 2c53 5905 2bba\r\n    0000010: 006f 0000 5359 10ff 1202 b800 752a 5fab\r\n    0000020: 0000 0182 0000 000a b951 be33 0000 0059\r\n    0000030: bd3c 11f8 0000 0086 e4d2 7468 0000 00aa\r\n    0000040: f226 4f65 0000 00bc 1cb4 ddcd 0000 00ce\r\n    0000050: 224d 0e57 0000 00e9 4441 e4ca 0000 010d\r\n    0000060: 4c34 1502 0000 0128 589a 5432 0000 0143\r\n    0000070: 6648 e9fd 0000 015e 5f5a 5903 32ba 007e\r\n    0000080: 0000 5f59 0432 ba00 4100 005f 5905 32ba\r\n    0000090: 0081 0000 5f59 0632 ba00 8400 005f 57b7\r\n    00000a0: 0087 a701 095f 5a59 0332 ba00 4100 005f\r\n    00000b0: 5904 32ba 0081 0000 5f59 0532 ba00 8400\r\n    00000c0: 005f 57b7 0089 a700 e55f 5a59 0332 ba00\r\n    00000d0: 4100 005f 57b7 008c a700 d35f 5a59 0332\r\n    00000e0: ba00 4900 005f 57b7 008f a700 c15f 5a59\r\n    00000f0: 0332 ba00 7e00 005f 5904 32ba 0041 0000\r\n    0000100: 5f57 b700 92a7 00a6 5f5a 5903 32ba 007e\r\n    0000110: 0000 5f59 0432 ba00 4100 005f 5905 32ba\r\n    0000120: 0081 0000 5f57 b700 95a7 0082 5f5a 5903\r\n    0000130: 32ba 007e 0000 5f59 0432 ba00 4900 005f\r\n    0000140: 57b7 0098 a700 675f 5a59 0332 ba00 4100\r\n    0000150: 005f 5904 32ba 0084 0000 5f57 b700 9ba7\r\n    0000160: 004c 5f5a 5903 32ba 0041 0000 5f59 0432\r\n    0000170: ba00 8100 005f 57b7 009d a700 315f 5a59\r\n    0000180: 0332 ba00 7e00 005f 5904 32ba 0041 0000\r\n    0000190: 5f59 0532 ba00 8400 005f 57b7 00a0 a700\r\n    00001a0: 0dbb 00a2 5912 a4b7 00a7 bf57 b1       \r\n  Stackmap Table:\r\n    full_frame(@120,{UninitializedThis,Object[#119],Object[#121]},{Object[#123],UninitializedThis})\r\n    full_frame(@165,{UninitializedThis,Object[#119],Object[#121]},{Object[#123],UninitializedThis})\r\n    full_frame(@201,{UninitializedThis,Object[#119],Object[#121]},{Object[#123],UninitializedThis})\r\n    full_frame(@219,{UninitializedThis,Object[#119],Object[#121]},{Object[#123],UninitializedThis})\r\n    full_frame(@237,{UninitializedThis,Object[#119],Object[#121]},{Object[#123],UninitializedThis})\r\n    full_frame(@264,{UninitializedThis,Object[#119],Object[#121]},{Object[#123],UninitializedThis})\r\n    full_frame(@300,{UninitializedThis,Object[#119],Object[#121]},{Object[#123],UninitializedThis})\r\n    full_frame(@327,{UninitializedThis,Object[#119],Object[#121]},{Object[#123],UninitializedThis})\r\n    full_frame(@354,{UninitializedThis,Object[#119],Object[#121]},{Object[#123],UninitializedThis})\r\n    full_frame(@381,{UninitializedThis,Object[#119],Object[#121]},{Object[#123],UninitializedThis})\r\n    full_frame(@417,{UninitializedThis,Object[#119],Object[#121]},{Object[#123],UninitializedThis})\r\n    full_frame(@427,{Object[#2],Object[#119],Object[#121]},{Object[#123]})\r\n\r\n\tat magic.data.CardDefinitions.<clinit>(CardDefinitions.java:52)\r\n\tat magic.MagicMain.initializeEngine(MagicMain.java:188)\r\n\tat magic.MagicMain.initialize(MagicMain.java:213)\r\n\tat magic.MagicMain.main(MagicMain.java:96)\n\n_Original issue: http://code.google.com/p/magarena/issues/detail?id=622_",
  "date": "2014-07-19T12:26:55",
  "state": "closed",
  "gid": 622,
  "link": "http://code.google.com/p/magarena/issues/detail?id=622",
  "owner": ""
}
